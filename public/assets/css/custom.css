/*!
 *   Ubix - Multi-tenant SaaS Application
 *   Version: 1.0.0
 *   Author: Drycko
 *   Website: Nexusflow.io <https://nexusflow.co.za>
 *   License: MIT
 */

/* Custom Styles */
body {
  background-color: #f8f9fa; /* Light gray background */
  color: #343a40; /* Dark text color for better readability */
}

/* Stats Dashboard Enhancements */
.metric-card {
  border-radius: 12px;
  border: none;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.metric-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
}

.chart-container {
  background: #fff;
  border-radius: 8px;
  padding: 10px;
}

/* Gradient backgrounds */
.bg-gradient-primary {
  background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
}

.bg-gradient-success {
  background: linear-gradient(135deg, #198754 0%, #157347 100%);
}

.bg-gradient-info {
  background: linear-gradient(135deg, #0dcaf0 0%, #0aa2c0 100%);
}

.bg-gradient-warning {
  background: linear-gradient(135deg, #ffc107 0%, #ffca2c 100%);
}

.bg-gradient-danger {
  background: linear-gradient(135deg, #dc3545 0%, #bb2d3b 100%);
}

/* Card hover effects */
.card {
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.card:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Stats cards animations */
.small-box {
  transition: transform 0.3s ease-in-out;
}

.small-box:hover {
  transform: scale(1.02);
}

/* dropdown-menu should be above everything */
.dropdown-menu {
  z-index: 1050 !important; /* Ensure dropdowns appear above other elements */
}

/* Going to use this in place of .card.border-success */
.card-border-success {
  border: 1px solid #198754 !important;
  border-radius: 8px !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175) !important;
  padding: 8px !important;
  background-color: rgba(25, 135, 84, 0.1) !important;
}

/* card-border-success content style to respond to theme change from light to dark */
/* .card-border-success .card-body {
  background-color: rgba(25, 135, 84, 0.1) !important;
  color: #198754 !important;
}
[data-bs-theme="dark"] .card-border-success {
  border: 1px solid #198754 !important;
  background-color: rgba(25, 135, 84, 0.2) !important;
  color: #d1e7dd !important;
} */
/* Property Selector Specific Fixes */
.property-selector .dropdown-menu {
  z-index: 10050 !important; /* Much higher z-index for property selector */
  position: absolute !important;
  will-change: transform !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175) !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
}

/* Ensure property selector dropdown button container has proper positioning */
.property-selector .dropdown {
  position: relative !important;
  z-index: 1000 !important;
}

/* When dropdown is open, increase z-index of entire property selector component */
.property-selector .dropdown.show {
  z-index: 9998 !important;
}

/* Property selector card should have lower z-index when dropdown is open */
.property-selector .card {
  position: relative !important;
  z-index: 1 !important;
}

/* Override any conflicting z-index from other components */
.card.border-success {
  z-index: auto !important;
}

/* Disable mouse interactions on other cards when dropdown is open */
.dropdown-overlay-active .card:not(.property-selector .card) {
  pointer-events: none !important;
  opacity: 0.7 !important;
  transition: opacity 0.2s ease !important;
}

/* Disable hover effects on cards when dropdown is active */
.dropdown-overlay-active .card:not(.property-selector .card):hover {
  transform: none !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

/* Disable metric card hover effects when dropdown is active */
.dropdown-overlay-active .metric-card:hover {
  transform: none !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

/* Disable small-box hover effects when dropdown is active */
.dropdown-overlay-active .small-box:hover {
  transform: none !important;
}

/* Enhanced dropdown overlay controls - CSS only approach */
.dropdown-overlay-active .card:not(.property-selector .card),
.dropdown-overlay-active .info-box:not(.property-selector *),
.dropdown-overlay-active .small-box:not(.property-selector *),
.dropdown-overlay-active .nav-link:not(.property-selector *),
.dropdown-overlay-active .btn:not(.property-selector *) {
  pointer-events: none !important;
  opacity: 0.7 !important;
  user-select: none !important;
  transition: opacity 0.2s ease !important;
}

/* Disable hover effects when dropdown overlay is active */
.dropdown-overlay-active .card:not(.property-selector .card):hover,
.dropdown-overlay-active .info-box:not(.property-selector *):hover,
.dropdown-overlay-active .small-box:not(.property-selector *):hover,
.dropdown-overlay-active .metric-card:not(.property-selector *):hover {
  transform: none !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

/* Ensure dropdown items are clickable */
.property-selector .dropdown-menu .dropdown-item {
  position: relative !important;
  z-index: 10051 !important;
  background-color: transparent !important;
  transition: background-color 0.15s ease-in-out !important;
  pointer-events: auto !important;
}

.property-selector .dropdown-menu .dropdown-item:hover,
.property-selector .dropdown-menu .dropdown-item:focus {
  background-color: var(--bs-dropdown-link-hover-bg) !important;
  color: var(--bs-dropdown-link-hover-color) !important;
}

/* Dark mode dropdown styling */
[data-bs-theme="dark"] .property-selector .dropdown-menu {
  background-color: var(--bs-dark) !important;
  border-color: var(--bs-border-color) !important;
}

/* Bootstrap 5 dropdown menu positioning fix */
.dropdown-menu[data-bs-popper] {
  z-index: 9999 !important;
}

/* Prevent other cards from overlapping */
.card {
  position: relative !important;
}

.card:not(.property-selector .card) {
  z-index: 1 !important;
}

/* Additional global dropdown fixes */
.dropdown-menu {
  min-width: 200px !important;
}

/* Fix for modals and dropdowns */
.modal {
  z-index: 1055 !important;
}

.modal-backdrop {
  z-index: 1054 !important;
}

/* Tooltip z-index */
.tooltip {
  z-index: 1070 !important;
}

/* Popover z-index */
.popover {
  z-index: 1070 !important;
}

/* button tooltip styles */
.btn[tooltip] {
  position: relative;
}

.btn[tooltip]::after {
  content: attr(tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background-color: #343a40;
  color: #fff;
  padding: 4px 8px;
  border-radius: 4px;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s;
}

.btn[tooltip]:hover::after {
  opacity: 1;
  visibility: visible;
}

.select2-container .select2-selection--single {
  height: 38px !important; /* Match Bootstrap .form-control height */
  padding: 0.375rem 0.75rem;
  border: 1px solid #ced4da;
  border-radius: 0.375rem;
  display: flex;
  align-items: center;
}
.select2-container--default .select2-selection--single .select2-selection__rendered {
  line-height: 38px !important;
}
.select2-container--default .select2-selection--single .select2-selection__arrow {
  height: 38px !important;
}

/* Dark Mode Select2 Styles */
[data-bs-theme="dark"] .select2-container--default .select2-selection--single {
  background-color: #2b3035 !important;
  border: 1px solid #495057 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--single .select2-selection__rendered {
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--single .select2-selection__placeholder {
  color: #adb5bd !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--single:focus,
[data-bs-theme="dark"] .select2-container--default.select2-container--focus .select2-selection--single {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

/* Dark Mode Dropdown */
[data-bs-theme="dark"] .select2-dropdown {
  background-color: #2b3035 !important;
  border: 1px solid #495057 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-results__option {
  background-color: #2b3035 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-results__option--highlighted {
  background-color: #0d6efd !important;
  color: #ffffff !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-results__option[aria-selected="true"] {
  background-color: #495057 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-search--dropdown .select2-search__field {
  background-color: #2b3035 !important;
  border: 1px solid #495057 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-search--dropdown .select2-search__field:focus {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

/* Dark Mode Multi-select */
[data-bs-theme="dark"] .select2-container--default .select2-selection--multiple {
  background-color: #2b3035 !important;
  border: 1px solid #495057 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--multiple .select2-selection__choice {
  background-color: #495057 !important;
  border: 1px solid #6c757d !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
  color: #f8f9fa !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover {
  color: #dc3545 !important;
}

/* Dark Mode Arrow Styling */
[data-bs-theme="dark"] .select2-container--default .select2-selection--single .select2-selection__arrow b {
  border-color: #adb5bd transparent transparent transparent !important;
}

[data-bs-theme="dark"] .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b {
  border-color: transparent transparent #adb5bd transparent !important;
}

/* Dark Mode Disabled State */
[data-bs-theme="dark"] .select2-container--default .select2-selection--single.select2-selection--disabled {
  background-color: #343a40 !important;
  color: #6c757d !important;
  cursor: not-allowed !important;
}

/* Dark Mode Clear Button */
[data-bs-theme="dark"] .select2-container--default .select2-selection__clear {
  color: #adb5bd !important;
}

[data-bs-theme="dark"] .select2-container--default .select2-selection__clear:hover {
  color: #dc3545 !important;
}

/* Room Selection Styles */
.card-body .room-selection {
  max-height: 300px; /* Set a max height */
  overflow-y: auto; /* Enable vertical scrolling */
  border: 1px solid #ced4da; /* Border to match form controls */
  border-radius: 0.375rem; /* Rounded corners */
  padding: 10px; /* Padding for better spacing */
}

/* make any card body scrollable */
.card-body .scrollable-content {
  max-height: 500px; /* Set a max height */
  overflow-y: auto; /* Enable vertical scrolling */
  border: 1px solid #ced4da; /* Border to match form controls */
  border-radius: 0.375rem; /* Rounded corners */
  padding: 10px; /* Padding for better spacing */
}

select .flag-icon {
  width: 20px;
  height: 15px;
  margin-right: 8px;
  vertical-align: middle;
} 

/* ===============================================
   TRIX EDITOR STYLES
   =============================================== */

/* Light Mode Trix Styles */
trix-editor {
  border: 1px solid #ced4da !important;
  border-radius: 0.375rem !important;
  padding: 0.75rem !important;
  min-height: 150px !important;
  background-color: #ffffff !important;
  color: #495057 !important;
  font-family: inherit !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
}

trix-editor:focus {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
  outline: 0 !important;
}

trix-toolbar {
  border: 1px solid #ced4da !important;
  border-bottom: none !important;
  border-radius: 0.375rem 0.375rem 0 0 !important;
  background-color: #f8f9fa !important;
  padding: 0.5rem !important;
  min-height: auto !important;
}

trix-toolbar .trix-button-group {
  border: none !important;
  margin-bottom: 0 !important;
  background-color: transparent !important;
}

trix-toolbar .trix-button {
  background-color: transparent !important;
  border: 1px solid transparent !important;
  border-radius: 0.25rem !important;
  color: #495057 !important;
  padding: 0.375rem 0.5rem !important;
  margin: 0 0.125rem !important;
  font-size: 0.875rem !important;
  transition: all 0.15s ease-in-out !important;
}

trix-toolbar .trix-button:hover {
  background-color: #e9ecef !important;
  border-color: #adb5bd !important;
  color: #495057 !important;
}

trix-toolbar .trix-button.trix-active {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
  color: #ffffff !important;
}

trix-toolbar .trix-button:disabled {
  background-color: transparent !important;
  border-color: transparent !important;
  color: #6c757d !important;
  opacity: 0.65 !important;
  cursor: not-allowed !important;
}

/* Trix Dialog Styles */
trix-toolbar .trix-dialog {
  background-color: #ffffff !important;
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}

trix-toolbar .trix-dialog .trix-dialog__link-fields {
  background-color: #ffffff !important;
}

trix-toolbar .trix-dialog .trix-input {
  border: 1px solid #ced4da !important;
  border-radius: 0.25rem !important;
  padding: 0.375rem 0.75rem !important;
  background-color: #ffffff !important;
  color: #495057 !important;
}

trix-toolbar .trix-dialog .trix-input:focus {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
  outline: 0 !important;
}

trix-toolbar .trix-dialog .trix-button {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
  color: #ffffff !important;
}

/* ===============================================
   DARK MODE TRIX STYLES
   =============================================== */

[data-bs-theme="dark"] trix-editor {
  border: 1px solid #495057 !important;
  background-color: #2b3035 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] trix-editor:focus {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

[data-bs-theme="dark"] trix-toolbar {
  border: 1px solid #495057 !important;
  border-bottom: none !important;
  background-color: #343a40 !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-button {
  color: #dee2e6 !important;
  border: 1px solid transparent !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-button:hover {
  background-color: #495057 !important;
  border-color: #6c757d !important;
  color: #f8f9fa !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-button.trix-active {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
  color: #ffffff !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-button:disabled {
  color: #6c757d !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

/* Dark Mode Dialog Styles */
[data-bs-theme="dark"] trix-toolbar .trix-dialog {
  background-color: #2b3035 !important;
  border: 1px solid #495057 !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.5) !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-dialog .trix-dialog__link-fields {
  background-color: #2b3035 !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-dialog .trix-input {
  border: 1px solid #495057 !important;
  background-color: #343a40 !important;
  color: #dee2e6 !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-dialog .trix-input:focus {
  border-color: #86b7fe !important;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

[data-bs-theme="dark"] trix-toolbar .trix-dialog .trix-button {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
  color: #ffffff !important;
}

/* Trix Editor Content Styling */
trix-editor h1, trix-editor .h1 { font-size: 1.75rem !important; font-weight: 500 !important; }
trix-editor h2, trix-editor .h2 { font-size: 1.5rem !important; font-weight: 500 !important; }
trix-editor h3, trix-editor .h3 { font-size: 1.25rem !important; font-weight: 500 !important; }
trix-editor h4, trix-editor .h4 { font-size: 1.125rem !important; font-weight: 500 !important; }
trix-editor h5, trix-editor .h5 { font-size: 1rem !important; font-weight: 500 !important; }
trix-editor h6, trix-editor .h6 { font-size: 0.875rem !important; font-weight: 500 !important; }

trix-editor blockquote {
  padding: 0.5rem 1rem !important;
  margin: 0.5rem 0 !important;
  border-left: 0.25rem solid #dee2e6 !important;
  background-color: #f8f9fa !important;
}

[data-bs-theme="dark"] trix-editor blockquote {
  border-left-color: #495057 !important;
  background-color: #343a40 !important;
}

trix-editor pre {
  background-color: #f8f9fa !important;
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  padding: 0.75rem !important;
  font-family: 'Monaco', 'Consolas', monospace !important;
  font-size: 0.875rem !important;
}

[data-bs-theme="dark"] trix-editor pre {
  background-color: #343a40 !important;
  border-color: #495057 !important;
  color: #dee2e6 !important;
}

trix-editor ul, trix-editor ol {
  padding-left: 1.5rem !important;
}

trix-editor a {
  color: #0d6efd !important;
  text-decoration: underline !important;
}

[data-bs-theme="dark"] trix-editor a {
  color: #6ea8fe !important;
}

/* Trix Editor Placeholder */
trix-editor[placeholder]:empty::before {
  color: #6c757d !important;
  font-style: italic !important;
}

[data-bs-theme="dark"] trix-editor[placeholder]:empty::before {
  color: #adb5bd !important;
}

/* Trix File Upload Progress */
trix-editor .attachment {
  background-color: #f8f9fa !important;
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  padding: 0.5rem !important;
  margin: 0.5rem 0 !important;
}

[data-bs-theme="dark"] trix-editor .attachment {
  background-color: #343a40 !important;
  border-color: #495057 !important;
}

/* Responsive Trix Toolbar */
@media (max-width: 768px) {
  trix-toolbar {
    flex-wrap: wrap !important;
  }
  
  trix-toolbar .trix-button-group {
    margin-bottom: 0.25rem !important;
  }
  
  trix-toolbar .trix-button {
    padding: 0.25rem 0.375rem !important;
    font-size: 0.75rem !important;
  }
}

/* timeline */
.timeline {
    position: relative;
    padding-left: 30px;
}

.timeline::before {
    content: '';
    position: absolute;
    left: 10px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: #e9ecef;
}

.timeline-item {
    position: relative;
    margin-bottom: 20px;
}

.timeline-marker {
    position: absolute;
    left: -25px;
    top: 5px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid #fff;
}

.timeline-content h6 {
    margin-bottom: 5px;
    font-size: 0.9rem;
}

.timeline-content p {
    margin-bottom: 0;
}